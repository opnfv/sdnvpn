{
  "comments": [
    {
      "key": {
        "uuid": "da5c1566_2d874563",
        "filename": "sdnvpn/lib/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 917,
      "author": {
        "id": 6895
      },
      "writtenOn": "2018-06-06T13:38:38Z",
      "side": 1,
      "message": "Good find ! Didn\u0027t you query for entity owner for string \"bgp\". this would return ip address of the ODL node for BGP speaker.\nLet us call this api irrespective of ha or noha.",
      "revId": "fc369dbdae8239c0cc232e7ee1cb0ca452562e41",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da5c1566_2879f393",
        "filename": "sdnvpn/lib/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 917,
      "author": {
        "id": 6745
      },
      "writtenOn": "2018-06-07T06:26:22Z",
      "side": 1,
      "message": "Hello Peri. I am not sure If Understand you correctly. Do you mean that there is some URL with will return the IP of BGP entity owner ? \nIf this is what you mean can you please provide to me that url because I do not know where to find it.\n\nAlso if we call this URL in noha is it going to work ?",
      "parentUuid": "da5c1566_2d874563",
      "revId": "fc369dbdae8239c0cc232e7ee1cb0ca452562e41",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da5c1566_6873ebb1",
        "filename": "sdnvpn/lib/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 917,
      "author": {
        "id": 6895
      },
      "writtenOn": "2018-06-07T06:51:15Z",
      "side": 1,
      "message": "Yes, I just noticed netvirt is registering an ODL node as BGP speaker into entity-ownership service with \"bgp\" string as key. There is getOwnershipState(E forEntity) API from entity-ownership module which is used by netvirt. Not sure its also exposed as a REST RPC service. can you check it in restconf ?",
      "parentUuid": "da5c1566_2879f393",
      "revId": "fc369dbdae8239c0cc232e7ee1cb0ca452562e41",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da5c1566_a864e3e5",
        "filename": "sdnvpn/lib/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 917,
      "author": {
        "id": 6745
      },
      "writtenOn": "2018-06-07T07:11:23Z",
      "side": 1,
      "message": "I checked it: we can use this URL [0] which has this response [1]\n\n[0]: http://192.0.2.7:8081/restconf/operational/entity-owners:entity-owners/entity-type/bgp\n\n[1] {\"entity-type\":[{\"type\":\"bgp\",\"entity\":[{\"id\":\"/general-entity:entity[general-entity:name\u003d\u0027bgp\u0027]\",\"candidate\":[{\"name\":\"member-0\"},{\"name\":\"member-1\"},{\"name\":\"member-2\"}],\"owner\":\"member-0\"}]}]}\n\n\nI think we can use this. What do you think ?",
      "parentUuid": "da5c1566_6873ebb1",
      "revId": "fc369dbdae8239c0cc232e7ee1cb0ca452562e41",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da5c1566_28d57343",
        "filename": "sdnvpn/lib/utils.py",
        "patchSetId": 3
      },
      "lineNbr": 917,
      "author": {
        "id": 6895
      },
      "writtenOn": "2018-06-07T08:21:53Z",
      "side": 1,
      "message": "Okay, Looks like it just provides owner as \"member-x\". Don\u0027t we need to find out ip address of this member node ? Even after retrieving it, i don\u0027t know what do you plan to do with it.\nI think we just need to find out on which ODL node zrpcd (on port 7644) running and make ODL to connect with it using bgp-connect.",
      "parentUuid": "da5c1566_a864e3e5",
      "revId": "fc369dbdae8239c0cc232e7ee1cb0ca452562e41",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}