{
  "comments": [
    {
      "key": {
        "uuid": "5ac10518_cbbadf6d",
        "filename": "odl-pipeline/lib/deployment_cloner/deployment_cloner.py",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "I guess this whole file is not needed anymore.\n\nPut get_virtual_node_name_from_mac to tripleomanager and then remove this one here.\n\nand remove as well the .sh",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 67,
        "endChar": 10
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_66de826f",
        "filename": "odl-pipeline/lib/deployment_cloner/deployment_cloner.py",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T15:03:52Z",
      "side": 1,
      "message": "OK.  You had mentioned that you thought TripleOManager class had too many methods, so I didn\u0027t add another one.",
      "parentUuid": "5ac10518_cbbadf6d",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 67,
        "endChar": 10
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_ab8433d4",
        "filename": "odl-pipeline/lib/odl_reinstaller/odl_reinstaller.py",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "this is the same code as below. If the script shall still run on its own then we should merge this.",
      "range": {
        "startLine": 14,
        "startChar": 1,
        "endLine": 70,
        "endChar": 60
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_26e87a0f",
        "filename": "odl-pipeline/lib/odl_reinstaller/odl_reinstaller.py",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T15:03:52Z",
      "side": 1,
      "message": "I don\u0027t really think this class is needed.  The class has no properties (and no init).  These 2 methods could easily live on their own (they are static anyway).  I just moved them out of the TripleOManager class due to your previous comments.",
      "parentUuid": "5ac10518_ab8433d4",
      "range": {
        "startLine": 14,
        "startChar": 1,
        "endLine": 70,
        "endChar": 60
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_ac8449d4",
        "filename": "odl-pipeline/lib/odl_reinstaller/odl_reinstaller.py",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-23T08:57:27Z",
      "side": 1,
      "message": "Oh they have an init. Look at the service class. It has the init and the run and since this here inherits from it it has it as well. for all the classes in this setup it is always:\n\u003csomething\u003e.sh -\u003e python \u003csomething\u003e.py -\u003e main -\u003e services -\u003e init, start -\u003e _run -\u003e something.run()",
      "parentUuid": "5ac10518_26e87a0f",
      "range": {
        "startLine": 14,
        "startChar": 1,
        "endLine": 70,
        "endChar": 60
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_607d051c",
        "filename": "odl-pipeline/lib/odl_reinstaller/odl_reinstaller.py",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-23T17:06:16Z",
      "side": 1,
      "message": "I know how inheritance works.  My point is this class itself does not have a contstructor, so it really holds no specific attributes to the ODLReinstaller class, and thus no reason to have this as a class and the methods can be made static.",
      "parentUuid": "5ac10518_ac8449d4",
      "range": {
        "startLine": 14,
        "startChar": 1,
        "endLine": 70,
        "endChar": 60
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_2b4fe3be",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "Why this script do need to install a new odl. I thought we want to use the odl_resinatller script for that and just call the other script after this script. Otherwise we have few dependencies here which are not really needed or?\n\nThe whole idea was to not have all done in this one script here.\n\nSo this script is only to gather the info. ODL_reinstall is to remove old ODL and install new one.\n\nSo the only difference to the original script would be that we don\u0027t remove the odl ODL when we gather the information. A user can then install a new ODL but executing odl_reinstall.sh or just continue with the snapshot and not install the new ODL. So the ODL with what apex comes originally will be used.\n\nI have not yet understood why you want to exchange the odl before doing the snapshot. I am ok with it but I think it is an unnecessary step. But that is ok to do. Just do it with the odl_reinstaller script which is meant for that.\n\nMixing the things together is not really helpful.\n\nI am open for discussion. :-D If you want I could upload a patchset how I think we make this the nicest why then you just can see what I meant.",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 43
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_46e34633",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T15:03:52Z",
      "side": 1,
      "message": "The odl reinstaller class is really just 2 static methods.  There is nothing there that justifies even having a class.\n\nAs I see it the purpose of this class is to 1. introspect for config to bundle with snapshot and 2. update opendaylight using that config\n\nI do not want to exchange ODL when creating a snapshot.  I want to exchange ODL when deploying a snapshot for CSIT.",
      "parentUuid": "5ac10518_2b4fe3be",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 43
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_ec61f139",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-23T08:57:27Z",
      "side": 1,
      "message": "That would mean that we call this script for 2 fully different purposes and on different times in the snapshot/deploy process. Why do you want to have the functions then all together. Do they benefit from eachother? In future we might get more functions and then this script will grow and grow.\n\ntripleO_manager -\u003e introspect\nodl_reinstall -\u003e update odl\n\n\nRead my commend on odl_installer. It has to be a class to inherit all the stuff from services. Through that I don\u0027t need to do all the python-CLI stuff always from the beginning.",
      "parentUuid": "5ac10518_46e34633",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 43
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_8078312c",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-23T17:06:16Z",
      "side": 1,
      "message": "I think the purpose of this class resembles the name, TripleO Manager.  So the management class can have multiple facets, one may be introspecting a current setup, while another may be updating another.  If it starts to become too much to handle inside of a single TripleOManager object, then we can split it up later into multiple classes.  But imho for now it doesn\u0027t make sense to create another class with 2 static methods to be called by another bash script.",
      "parentUuid": "5ac10518_ec61f139",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 43
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_96107b02",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-24T12:42:22Z",
      "side": 1,
      "message": "May be I should not have called in Manager. The odl_reinstaller.sh is already there right now. And for a user it is directly visible that this script is the one used to reinstall odl. In addition the job:\nhttps://build.opnfv.org/ci/view/Cross%20Community%20CI/job/odl-netvirt-verify-virtual-master/\n\nPoints already to it. I don;t see a reason of changing it cause it is a good seperation already. The odl_reinstaller does not need to know anything what the tribleOmanager knows so I don\u0027t see a reason in putting both together. In addition the odl_reinstaller.sh could as well used by another installer as fuel easily. All we need is the cloner_config which is quite generic for all installers. And change to the fuel puppet files to install odl.\n\nOn the other side all you need when you do the snapshot in your bash script is to execute ./odl_reinstall.sh with the arguments instead of using tripleOManager.sh with the arguments of reinstalling ODL.",
      "parentUuid": "5ac10518_8078312c",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 43
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_56f9b37e",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-24T15:54:51Z",
      "side": 1,
      "message": "I think the ODL methods could easily just be put in a utils library and not in a class at all if you want to take them out of the current patch set class.  Please just update the next patch set how you would like to see it.",
      "parentUuid": "5ac10518_96107b02",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 43
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_8bfe1737",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 109,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "the normal way of doing it in openstack is:\n\"http://%(address)s:8081/%(url)s\" \n% {\u0027address\u0027: odl_node.config.get(\u0027address\u0027),\n   \u0027url\u0027: self.netvirt_url}",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 109,
        "endChar": 41
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_a6cb0aa4",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 109,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T15:03:52Z",
      "side": 1,
      "message": "https://docs.python.org/release/3.1.5/library/stdtypes.html#old-string-formatting-operations",
      "parentUuid": "5ac10518_8bfe1737",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 109,
        "endChar": 41
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_2c4ff9be",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 109,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-23T08:57:27Z",
      "side": 1,
      "message": "Ok",
      "parentUuid": "5ac10518_a6cb0aa4",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 109,
        "endChar": 41
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_2b94c3e0",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 114,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "same",
      "range": {
        "startLine": 113,
        "startChar": 33,
        "endLine": 114,
        "endChar": 37
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_8b85b7ae",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 118,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "same",
      "range": {
        "startLine": 118,
        "startChar": 28,
        "endLine": 118,
        "endChar": 73
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_0bc1c7e3",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 143,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "(rv, (err, rc)) \u003d processutils.execute(\u003ccmd\u003e)\n\nsee further down.",
      "range": {
        "startLine": 141,
        "startChar": 0,
        "endLine": 143,
        "endChar": 78
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_26c95a78",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 143,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T16:54:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ac10518_0bc1c7e3",
      "range": {
        "startLine": 141,
        "startChar": 0,
        "endLine": 143,
        "endChar": 78
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_abb75385",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 182,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "I think you should use the execute from the utils for that as well.\n\n(rv, (err, rc)) \u003d processutils.execute(\u003ccmd\u003e)\n\nJust to be aligned with how it is normally done.",
      "range": {
        "startLine": 180,
        "startChar": 16,
        "endLine": 182,
        "endChar": 67
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_46c4a65e",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 182,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T16:54:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ac10518_abb75385",
      "range": {
        "startLine": 180,
        "startChar": 16,
        "endLine": 182,
        "endChar": 67
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_eb61db39",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 186,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "I think you miss understood me here. The deployment cloner should be deleted or? Cause this script does run now at the host. So you can copy the .get_virtual_node_name_from_mac() to this class and then delete the whole deploymentCloner. deploymentCloner script was only used since at the beginning tripleO manager was running in the undercloud vm. No need anymore since you changed it now to:\nopnfv-util undercloud stack \"source /home/stack/stackrc; nova list\"",
      "range": {
        "startLine": 186,
        "startChar": 20,
        "endLine": 186,
        "endChar": 79
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_aba0b343",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 193,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "why don\u0027t you do just node.execute(\u0027ovs-vsctl get-controller br-int\u0027, as_root\u003dTrue) here. When there is a exception it will be thrown by processutils. The output is quite nice. then introspect_node would not be needed.",
      "range": {
        "startLine": 192,
        "startChar": 11,
        "endLine": 193,
        "endChar": 61
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_c6ce56b4",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 193,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T15:03:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ac10518_aba0b343",
      "range": {
        "startLine": 192,
        "startChar": 11,
        "endLine": 193,
        "endChar": 61
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_cba3bf4d",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 195,
      "author": {
        "id": 2697
      },
      "writtenOn": "2017-01-20T11:37:22Z",
      "side": 1,
      "message": "same",
      "range": {
        "startLine": 194,
        "startChar": 11,
        "endLine": 195,
        "endChar": 63
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_66c5228d",
        "filename": "odl-pipeline/lib/tripleo_manager/tripleo_manager.py",
        "patchSetId": 8
      },
      "lineNbr": 195,
      "author": {
        "id": 334
      },
      "writtenOn": "2017-01-20T15:03:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ac10518_cba3bf4d",
      "range": {
        "startLine": 194,
        "startChar": 11,
        "endLine": 195,
        "endChar": 63
      },
      "revId": "cfde0ee0df015eee1b5f1feb2c039f7c9ff2f66f",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}